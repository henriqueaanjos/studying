{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/henriqueanjos/Workspace/projects/estudei/frontend/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\n\nexport function ThemeProvider({\n  children,\n  ...props\n}: React.ComponentProps<typeof NextThemesProvider>) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBAAO,+YAAC,ySAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/henriqueanjos/Workspace/projects/estudei/frontend/src/lib/api.ts"],"sourcesContent":["import axios from \"axios\";  \n\nexport const api = axios.create({\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL,\n});"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,MAAM,mMAAK,CAAC,MAAM,CAAC;IAC5B,OAAO;AACX","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///Users/henriqueanjos/Workspace/projects/estudei/frontend/src/context/AuthContext.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, ReactNode, useEffect, useState } from \"react\";\nimport Cookie from 'js-cookie';\nimport { api } from \"../lib/api\";\nimport { jwtDecode } from 'jwt-decode';\nimport { redirect } from \"next/navigation\";\nimport { useRouter } from \"next/navigation\";\n\ntype JwtPayload = {\n    sub: User\n};\n\ninterface User {\n    id: string,\n    name?: string;\n    email?: string;\n}\n\ninterface AuthContextProps {\n    user: User;\n    signIn: (email: string, password: string) => Promise<void>;\n    signUp: (user: { name: string; email: string; password?: string }) => Promise<void>;\n    signOut: () => void;\n}\n\ninterface AuthContextProviderProps {\n    children: ReactNode\n}\n\nexport const AuthContext = createContext<AuthContextProps>({} as AuthContextProps);\n\nexport function AuthContextProvider({ children }: AuthContextProviderProps) {\n    const [user, setUser] = useState<User>({} as User);\n    const router = useRouter();\n\n    async function signIn(email: string, password: string) {\n        try {\n            const result = await api.post('/auth/sign-in', {\n                email,\n                password\n            });\n\n            if (result.status === 200) {\n                const { access_token } = result.data;\n                const payload = jwtDecode<JwtPayload>(access_token);\n                setUser(payload.sub);\n                api.defaults.headers.common.authorization = `Bearer ${access_token}`\n                Cookie.set('authToken', access_token, { expires: 1 });\n            }\n        } catch {\n            throw new Error('Usuário ou senha inválidos!');\n        }\n    }\n\n    async function signUp(user: { name: string; email: string; password?: string }) {\n        try {\n            await api.post('/users', {\n                name: user.name,\n                email: user.email,\n                password: user.password\n            })\n            await signIn(user.email, user.password!);\n        } catch {\n            throw new Error('Erro ao cadastrar usuário!');\n        }\n    }\n\n    function signOut() {\n        Cookie.remove('authToken');\n        api.defaults.headers.common.authorization = null;\n        setUser({} as User);\n        router.push('/');\n    }\n\n    useEffect(() => {\n        const token = Cookie.get('authToken');\n        if (token) {\n            api.defaults.headers.common.authorization = `Bearer ${token}`;\n            const payload = jwtDecode<JwtPayload>(token);\n            setUser(payload.sub);\n        }\n    }, []);\n\n    return (\n        <AuthContext.Provider\n            value={{\n                user,\n                signIn,\n                signUp,\n                signOut\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    )\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AA8BO,MAAM,4BAAc,IAAA,uXAAa,EAAmB,CAAC;AAErD,SAAS,oBAAoB,EAAE,QAAQ,EAA4B;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kXAAQ,EAAO,CAAC;IACxC,MAAM,SAAS,IAAA,gTAAS;IAExB,eAAe,OAAO,KAAa,EAAE,QAAgB;QACjD,IAAI;YACA,MAAM,SAAS,MAAM,wHAAG,CAAC,IAAI,CAAC,iBAAiB;gBAC3C;gBACA;YACJ;YAEA,IAAI,OAAO,MAAM,KAAK,KAAK;gBACvB,MAAM,EAAE,YAAY,EAAE,GAAG,OAAO,IAAI;gBACpC,MAAM,UAAU,IAAA,6NAAS,EAAa;gBACtC,QAAQ,QAAQ,GAAG;gBACnB,wHAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,cAAc;gBACpE,yNAAM,CAAC,GAAG,CAAC,aAAa,cAAc;oBAAE,SAAS;gBAAE;YACvD;QACJ,EAAE,OAAM;YACJ,MAAM,IAAI,MAAM;QACpB;IACJ;IAEA,eAAe,OAAO,IAAwD;QAC1E,IAAI;YACA,MAAM,wHAAG,CAAC,IAAI,CAAC,UAAU;gBACrB,MAAM,KAAK,IAAI;gBACf,OAAO,KAAK,KAAK;gBACjB,UAAU,KAAK,QAAQ;YAC3B;YACA,MAAM,OAAO,KAAK,KAAK,EAAE,KAAK,QAAQ;QAC1C,EAAE,OAAM;YACJ,MAAM,IAAI,MAAM;QACpB;IACJ;IAEA,SAAS;QACL,yNAAM,CAAC,MAAM,CAAC;QACd,wHAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG;QAC5C,QAAQ,CAAC;QACT,OAAO,IAAI,CAAC;IAChB;IAEA,IAAA,mXAAS,EAAC;QACN,MAAM,QAAQ,yNAAM,CAAC,GAAG,CAAC;QACzB,IAAI,OAAO;YACP,wHAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;YAC7D,MAAM,UAAU,IAAA,6NAAS,EAAa;YACtC,QAAQ,QAAQ,GAAG;QACvB;IACJ,GAAG,EAAE;IAEL,qBACI,+YAAC,YAAY,QAAQ;QACjB,OAAO;YACH;YACA;YACA;YACA;QACJ;kBAEC;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///Users/henriqueanjos/Workspace/projects/estudei/frontend/src/lib/react-query.ts"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\";\n\nexport const queryClient = new QueryClient();"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,IAAI,qQAAW","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/henriqueanjos/Workspace/projects/estudei/frontend/src/app/providers.tsx"],"sourcesContent":["'use client'\n\nimport { AuthContextProvider } from \"@/context/AuthContext\";\nimport { queryClient } from \"@/lib/react-query\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\n\nexport default function Providers({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthContextProvider>\n          {children}\n      </AuthContextProvider>\n    </QueryClientProvider>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,UAAU,EAChC,QAAQ,EAGR;IACA,qBACE,+YAAC,6SAAmB;QAAC,QAAQ,2IAAW;kBACtC,cAAA,+YAAC,qJAAmB;sBACf;;;;;;;;;;;AAIX","debugId":null}}]
}