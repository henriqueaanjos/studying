(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43684,e=>{"use strict";var t=e.i(9165);async function a(e){return(await t.api.get(`/study-session/${e}/session`)).data}e.s(["generateSession",()=>a])},78864,40761,e=>{"use strict";var t=e.i(87012);function a({title:e,children:a}){return(0,t.jsxs)("div",{className:"w-full bg-slate-100 dark:bg-slate-800 p-4 rounded-lg  gap-4 relative pt-8",children:[(0,t.jsx)("div",{className:"absolute top-0 px-2 rounded-b-md bg-primary",children:(0,t.jsx)("span",{className:"text-xxs uppercase font-black text-white whitespace-nowrap text-ellipsis",children:e})}),(0,t.jsx)("div",{className:"w-full flex  h-full justify-center items-center",children:a})]})}function r(e){let t=Math.floor(e/3600),a=Math.floor(e%3600/60);return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}e.s(["StatisticsCard",()=>a],78864),e.s(["formatDuration",()=>r],40761)},84774,e=>{"use strict";var t=e.i(87012),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function s({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...r})}function i({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function n({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function l({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function o({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function c({className:e,...r}){return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,a.cn)("text-muted-foreground mt-4 text-sm",e),...r})}e.s(["Table",()=>r,"TableBody",()=>i,"TableCaption",()=>c,"TableCell",()=>o,"TableHead",()=>l,"TableHeader",()=>s,"TableRow",()=>n])},42228,e=>{"use strict";var t=e.i(9165);async function a(e){return(await t.api.post("/register",e)).data}async function r(){return(await t.api.get("/register")).data}e.s(["createRegister",()=>a,"getAllRegister",()=>r])},34352,e=>{"use strict";var t=e.i(87012),a=e.i(36500),r=e.i(78864),s=e.i(75522),i=e.i(30406),n=e.i(79014),l=e.i(91967),o=e.i(93136),c=e.i(33206),d=e.i(18931),u=e.i(11052),h=e.i(22925),x="Checkbox",[p,f]=(0,n.createContextScope)(x),[b,m]=p(x);function j(e){let{__scopeCheckbox:a,checked:r,children:i,defaultChecked:n,disabled:l,form:c,name:d,onCheckedChange:u,required:h,value:p="on",internal_do_not_use_render:f}=e,[m,j]=(0,o.useControllableState)({prop:r,defaultProp:n??!1,onChange:u,caller:x}),[y,g]=s.useState(null),[T,k]=s.useState(null),v=s.useRef(!1),C=!y||!!c||!!y.closest("form"),w={checked:m,disabled:l,setChecked:j,control:y,setControl:g,name:d,form:c,value:p,hasConsumerStoppedPropagationRef:v,required:h,defaultChecked:!N(n)&&n,isFormControl:C,bubbleInput:T,setBubbleInput:k};return(0,t.jsx)(b,{scope:a,...w,children:"function"==typeof f?f(w):i})}var y="CheckboxTrigger",g=s.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:r,...n},o)=>{let{control:c,value:d,disabled:u,checked:x,required:p,setControl:f,setChecked:b,hasConsumerStoppedPropagationRef:j,isFormControl:g,bubbleInput:T}=m(y,e),k=(0,i.useComposedRefs)(o,f),v=s.useRef(x);return s.useEffect(()=>{let e=c?.form;if(e){let t=()=>b(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,b]),(0,t.jsx)(h.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(x)?"mixed":x,"aria-required":p,"data-state":S(x),"data-disabled":u?"":void 0,disabled:u,value:d,...n,ref:k,onKeyDown:(0,l.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.composeEventHandlers)(r,e=>{b(e=>!!N(e)||!e),T&&g&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});g.displayName=y;var T=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,name:s,checked:i,defaultChecked:n,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...h}=e;return(0,t.jsx)(j,{__scopeCheckbox:r,checked:i,defaultChecked:n,disabled:o,required:l,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{...h,ref:a,__scopeCheckbox:r}),e&&(0,t.jsx)(w,{__scopeCheckbox:r})]})})});T.displayName=x;var k="CheckboxIndicator",v=s.forwardRef((e,a)=>{let{__scopeCheckbox:r,forceMount:s,...i}=e,n=m(k,r);return(0,t.jsx)(u.Presence,{present:s||N(n.checked)||!0===n.checked,children:(0,t.jsx)(h.Primitive.span,{"data-state":S(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...e.style}})})});v.displayName=k;var C="CheckboxBubbleInput",w=s.forwardRef(({__scopeCheckbox:e,...a},r)=>{let{control:n,hasConsumerStoppedPropagationRef:l,checked:o,defaultChecked:u,required:x,disabled:p,name:f,value:b,form:j,bubbleInput:y,setBubbleInput:g}=m(C,e),T=(0,i.useComposedRefs)(r,g),k=(0,c.usePrevious)(o),v=(0,d.useSize)(n);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!l.current;if(k!==o&&e){let a=new Event("click",{bubbles:t});y.indeterminate=N(o),e.call(y,!N(o)&&o),y.dispatchEvent(a)}},[y,k,o,l]);let w=s.useRef(!N(o)&&o);return(0,t.jsx)(h.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??w.current,required:x,disabled:p,name:f,value:b,form:j,...a,tabIndex:-1,ref:T,style:{...a.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function S(e){return N(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=C;var R=e.i(14588),H=e.i(75157);function E({className:e,...a}){return(0,t.jsx)(T,{"data-slot":"checkbox",className:(0,H.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(v,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,t.jsx)(R.CheckIcon,{className:"size-3.5"})})})}var M=e.i(84774),P=e.i(46798),D=e.i(16011),q=e.i(78049),I=e.i(42228),A=e.i(43684),B=e.i(40761),F=e.i(46286),K=e.i(74694);let Q=(0,K.default)("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),_=(0,K.default)("file-clock",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]]);var z=e.i(19532),L=e.i(72740),O=e.i(48704),V=e.i(10976),$=e.i(6760),U=e.i(95403);function X(){let[e,i]=(0,s.useState)(0),[n,l]=(0,s.useState)("00:00:00"),{contest:o}=(0,D.useContest)(),{data:c}=(0,O.useQuery)({queryKey:["TodaySession",o?.id],enabled:!!o,queryFn:async()=>await (0,A.generateSession)(o.id)}),{mutateAsync:d}=(0,L.useMutation)({mutationFn:async e=>{await (0,I.createRegister)({...e})},onMutate:async e=>{await q.queryClient.cancelQueries({queryKey:["TodaySession",o?.id]});let t=q.queryClient.getQueryData(["TodaySession",o?.id]),a=t?.map(t=>t.id===e.contentId?{...t,Register:t.Register.length>0?[]:[{id:"temp",contentId:e.contentId}]}:t)||[];q.queryClient.setQueryData(["TodaySession",o.id],a);let r=a.filter(e=>0===e.Register.length),s=r.length,n=r.reduce((e,t)=>e+t.durationSeconds,0);return i(s),l((0,B.formatDuration)(n)),{previousSession:t}},onError:(e,t,a)=>{a?.previousSession&&q.queryClient.setQueryData(["TodaySession"],a.previousSession),U.toast.error("Erro ao registrar conteúdo!")},onSettled:()=>{q.queryClient.invalidateQueries({queryKey:["TodaySession",o?.id]})},onSuccess:()=>{U.toast.success("Conteúdo atualizado!")}});return(0,s.useEffect)(()=>{if(c){let e=c.filter(e=>0===e.Register.length),t=e.length,a=e.reduce((e,t)=>e+t.durationSeconds,0);i(t),l((0,B.formatDuration)(a))}},[c]),(0,t.jsxs)("main",{className:"w-full min-h-screen p-8",children:[(0,t.jsx)(a.PrivateHeader,{pageTitle:"Tarefas de Hoje"}),(0,t.jsxs)("div",{className:"w-full flex flex-row gap-4 mt-4",children:[(0,t.jsx)(r.StatisticsCard,{title:"Conteúdos Restante p/Hoje",children:(0,t.jsx)("h1",{className:"text-7xl font-black",children:e})}),(0,t.jsx)(r.StatisticsCard,{title:"Tempo Restante p/Hoje",children:(0,t.jsx)("h1",{className:"text-7xl font-black",children:n})})]}),(0,t.jsx)("div",{className:"w-full mt-4",children:(0,t.jsx)(r.StatisticsCard,{title:"Hoje",children:(0,t.jsxs)(M.Table,{className:"w-full",children:[(0,t.jsx)(M.TableCaption,{children:"Por Hoje é só, arrebenta campeão!"}),(0,t.jsx)(M.TableHeader,{children:(0,t.jsxs)(M.TableRow,{className:"grid grid-cols-7",children:[(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Etapa de estudo"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Disciplina"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Aula"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Tipo de Conteúdo"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Nº do Conteúdo"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Duração"}),(0,t.jsx)(M.TableHead,{className:"flex justify-center",children:"Assistido"})]})}),(0,t.jsx)(M.TableBody,{children:c&&c.map(e=>(0,t.jsxs)(M.TableRow,{className:"grid grid-cols-7 items-center m-2 rounded-md",style:{backgroundColor:e.disciplineColor,color:(0,z.getTextColor)(e.disciplineColor)},children:[(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:function(e){switch(e.toLowerCase()){case"estudo":return(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{children:(0,t.jsx)(Q,{})}),(0,t.jsx)(P.TooltipContent,{children:e})]});case"revisão":return(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{children:(0,t.jsx)(_,{})}),(0,t.jsx)(P.TooltipContent,{children:e})]});case"prática":return(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{children:(0,t.jsx)(F.BookOpenCheck,{})}),(0,t.jsx)(P.TooltipContent,{children:e})]});default:return(0,t.jsx)(t.Fragment,{})}}(e.stageName)}),(0,t.jsx)(M.TableCell,{className:"flex justify-center font-bold",children:e.disciplineName}),(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:e.numberLesson}),(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:"video"===e.contentTypeName?(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{children:(0,t.jsx)($.Video,{})}),(0,t.jsx)(P.TooltipContent,{children:"Video"})]}):(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{children:(0,t.jsx)(V.FileText,{})}),(0,t.jsx)(P.TooltipContent,{children:"PDF"})]})}),(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:e.numberContent}),(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:(0,B.formatDuration)(e.durationSeconds)}),(0,t.jsx)(M.TableCell,{className:"flex justify-center",children:(0,t.jsx)(E,{checked:e.Register.length>0,className:"data-[state=checked]:bg-green-500 dark:data-[state=checked]:bg-green-500 w-6 h-6 bg-slate-200 dark:bg-slate-700 transition-all duration-300 text-white dark:text-white ",onClick:()=>{d({contentId:e.id})}})})]},e.id))})]})})})]})}e.s(["default",()=>X],34352)}]);