(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82346,e=>{"use strict";function t(e){let t=new Date(e),a=t.getDate().toString().padStart(2,"0"),s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getFullYear();return`${a}/${s}/${l}`}e.s(["formatDate",()=>t])},78864,40761,e=>{"use strict";var t=e.i(87012);function a({title:e,children:a}){return(0,t.jsxs)("div",{className:"w-full bg-slate-100 dark:bg-slate-800 p-4 rounded-lg  gap-4 relative pt-8",children:[(0,t.jsx)("div",{className:"absolute top-0 px-2 rounded-b-md bg-primary",children:(0,t.jsx)("span",{className:"text-xxs uppercase font-black text-white whitespace-nowrap text-ellipsis",children:e})}),(0,t.jsx)("div",{className:"w-full flex  h-full justify-center items-center",children:a})]})}function s(e){let t=Math.floor(e/3600),a=Math.floor(e%3600/60);return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}e.s(["StatisticsCard",()=>a],78864),e.s(["formatDuration",()=>s],40761)},84774,e=>{"use strict";var t=e.i(87012),a=e.i(75157);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})})}function l({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...s})}function r({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function n({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function c({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function o({className:e,...s}){return(0,t.jsx)("caption",{"data-slot":"table-caption",className:(0,a.cn)("text-muted-foreground mt-4 text-sm",e),...s})}e.s(["Table",()=>s,"TableBody",()=>r,"TableCaption",()=>o,"TableCell",()=>c,"TableHead",()=>n,"TableHeader",()=>l,"TableRow",()=>i])},42228,e=>{"use strict";var t=e.i(9165);async function a(e){return(await t.api.post("/register",e)).data}async function s(){return(await t.api.get("/register")).data}e.s(["createRegister",()=>a,"getAllRegister",()=>s])},33972,e=>{"use strict";var t=e.i(87012),a=e.i(36500),s=e.i(78864),l=e.i(84774),r=e.i(42228),i=e.i(82346),n=e.i(40761),c=e.i(48704);function o(){let{data:e}=(0,c.useQuery)({queryKey:["registers"],queryFn:r.getAllRegister,select:e=>{let t=new Map;for(let a of e){let e=new Date(a.registeredAt).toISOString().split("T")[0];t.has(e)||t.set(e,[]),t.get(e).push(a)}return Array.from(t,([e,t])=>({date:e,registers:t}))}});return(0,t.jsxs)("main",{className:"w-full min-h-screen p-8",children:[(0,t.jsx)(a.PrivateHeader,{pageTitle:"Registro de Rotina"}),(0,t.jsxs)("div",{className:"w-full flex flex-row gap-4 mt-4",children:[(0,t.jsx)(s.StatisticsCard,{title:"Dias de Estudo",children:(0,t.jsx)("h1",{className:"text-7xl font-black",children:e?e.length:0})}),(0,t.jsx)(s.StatisticsCard,{title:"Média de Horas p/dia",children:(0,t.jsx)("h1",{className:"text-7xl font-black",children:e&&e.length>0?(0,n.formatDuration)((e?.reduce((e,t)=>e+t.registers.reduce((e,t)=>e+(t.content.durationSeconds||0),0),0)||0)/e.length):"00:00:00"})}),(0,t.jsx)(s.StatisticsCard,{title:"Melhor Sequência",children:(0,t.jsx)("h1",{className:"text-7xl font-black",children:function(){if(!e||0===e.length)return 0;let t=e.map(e=>new Date(e.date)).sort((e,t)=>e.getTime()-t.getTime()),a=0,s=0;for(let e=0;e<t.length;e++){let l=t[e],r=t[e-1],i=l.getDay();0!==i&&6!==i&&(e>0&&r&&0!==l.getDay()&&6!==r.getDay()&&(l.getTime()-r.getTime())/864e5==1?a++:a=1,a>s&&(s=a))}return s}()})})]}),(0,t.jsx)("div",{className:"w-full mt-4",children:(0,t.jsx)(s.StatisticsCard,{title:"Registro de Aulas",children:(0,t.jsxs)(l.Table,{className:"w-full",children:[(0,t.jsx)(l.TableCaption,{children:"Suas sessões de estudo. Continue assim!"}),(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{className:"grid grid-cols-3",children:[(0,t.jsx)(l.TableHead,{className:"flex justify-center",children:"Data"}),(0,t.jsx)(l.TableHead,{className:"flex justify-center",children:"Total de Conteúdos Cobertos"}),(0,t.jsx)(l.TableHead,{className:"flex justify-center",children:"Tempo de Estudo"})]})}),(0,t.jsx)(l.TableBody,{children:e&&e.length>0&&e.map(e=>(0,t.jsxs)(l.TableRow,{className:"grid grid-cols-3",children:[(0,t.jsx)(l.TableCell,{className:"flex justify-center",children:(0,i.formatDate)(e.date)}),(0,t.jsx)(l.TableCell,{className:"flex justify-center",children:e.registers.length}),(0,t.jsx)(l.TableCell,{className:"flex justify-center font-medium",children:(0,n.formatDuration)(e.registers.reduce((e,t)=>e+(t.content.durationSeconds||0),0))})]},e.date))})]})})})]})}e.s(["default",()=>o])}]);