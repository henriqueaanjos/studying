module.exports=[42311,54447,a=>{"use strict";var b=a.i(85732);function c({title:a,children:c}){return(0,b.jsxs)("div",{className:"w-full bg-slate-100 dark:bg-slate-800 p-4 rounded-lg  gap-4 relative pt-8",children:[(0,b.jsx)("div",{className:"absolute top-0 px-2 rounded-b-md bg-primary",children:(0,b.jsx)("span",{className:"text-xxs uppercase font-black text-white whitespace-nowrap text-ellipsis",children:a})}),(0,b.jsx)("div",{className:"w-full flex  h-full justify-center items-center",children:c})]})}function d(a){let b=Math.floor(a/3600),c=Math.floor(a%3600/60);return`${b.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`}a.s(["StatisticsCard",()=>c],42311),a.s(["formatDuration",()=>d],54447)},82263,a=>{"use strict";function b(a){let b=new Date(a),c=b.getDate().toString().padStart(2,"0"),d=(b.getMonth()+1).toString().padStart(2,"0"),e=b.getFullYear();return`${c}/${d}/${e}`}a.s(["formatDate",()=>b])},82123,a=>{"use strict";var b=a.i(19032);async function c(a){return(await b.api.get(`/study-session/${a}/session`)).data}a.s(["generateSession",()=>c])},70540,a=>{"use strict";var b=a.i(85732),c=a.i(363);function d({progress:a=0}){return(0,b.jsxs)("div",{className:"w-full flex flex-row gap-4 items-center",children:[(0,b.jsx)("div",{className:"w-full  bg-blue-200 rounded-full h-6 dark:bg-slate-700 p-1",children:(0,b.jsx)("div",{className:"bg-primary h-full rounded-full transition-[width] duration-200 delay-500",style:{width:`${a.toFixed(1)}%`}})}),(0,b.jsxs)("h1",{className:"font-bold",children:[a.toFixed(1),"%"]})]})}var e=a.i(42311),f=a.i(66953);let g=(0,f.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=a.i(68114);function i({className:a,...c}){return(0,b.jsx)(g,{role:"status","aria-label":"Loading",className:(0,h.cn)("size-4 animate-spin",a),...c})}var j=a.i(10502),k=a.i(19229),l=a.i(30590),m=a.i(82123),n=a.i(82263),o=a.i(54447),p=a.i(74377),q=a.i(9759);let r=(0,f.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var s=a.i(38715);function t(){let[a,f]=(0,s.useState)(0),[g,h]=(0,s.useState)("00:00:00"),[t,u]=(0,s.useState)(0),[v,w]=(0,s.useState)(0),[x,y]=(0,s.useState)(0),[z,A]=(0,s.useState)(0),{contest:B}=(0,j.useContest)(),{data:C}=(0,q.useQuery)({queryKey:["TodaySession"],queryFn:async()=>await (0,m.generateSession)(B.id),select:a=>a.reduce((a,b)=>{let c=`${b.disciplineName}-${b.numberLesson}`,d=a.find(a=>a.key===c),e=b.durationSeconds||0,f=b.Register?.length>0;return d?(d.numberStartContent=Math.min(d.numberStartContent,b.numberContent),d.numberEndContent=Math.max(d.numberEndContent,b.numberContent),d.remainingDurationSeconds+=f?0:e,d.totalDurationSeconds+=e):a.push({key:c,disciplineName:b.disciplineName,disciplineColor:b.disciplineColor,numberLesson:b.numberLesson,numberStartContent:b.numberContent,numberEndContent:b.numberContent,remainingDurationSeconds:f?0:e,totalDurationSeconds:b.durationSeconds}),a},[])}),{data:D}=(0,q.useQuery)({queryKey:["disciplines"],queryFn:k.getAllDiscipline}),{data:E}=(0,q.useQuery)({queryKey:["lessons"],queryFn:l.getAllLesson});return(0,s.useEffect)(()=>{let a=new Date;f(Math.ceil((new Date(B.exameDate).getTime()-a.getTime())/864e5))},[B]),(0,s.useEffect)(()=>{if(C&&C.length>0){let a=C.reduce((a,b)=>a+b.totalDurationSeconds,0);h((0,o.formatDuration)(a))}},[C]),(0,s.useEffect)(()=>{if(D&&D.length>0){let a=D.reduce((a,b)=>a+b.completedDuration,0),b=D.reduce((a,b)=>a+b.totalDuration,0),c=D.reduce((a,b)=>a+b.completedContents,0);u(b),w(a),y(c)}},[D]),(0,s.useEffect)(()=>{E&&E.length>0&&A(E.filter(a=>a.completedContents===a.totalContents).length)},[E]),(0,b.jsxs)("main",{className:"w-full min-h-screen p-8",children:[(0,b.jsx)(c.PrivateHeader,{pageTitle:"Dashboard de Estudos"}),(0,b.jsx)(e.StatisticsCard,{title:"Progresso",children:(0,b.jsx)(d,{progress:v/t*100})}),(0,b.jsxs)("div",{className:"w-full flex flex-row gap-4 mt-4",children:[(0,b.jsx)(e.StatisticsCard,{title:"Total de Aulas Assistidas",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:z})}),(0,b.jsx)(e.StatisticsCard,{title:"Conteúdos Cobertos",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:x})}),(0,b.jsx)(e.StatisticsCard,{title:"Horas totais já Assistidas",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:(0,o.formatDuration)(v)})})]}),(0,b.jsx)("div",{className:"w-full mt-4",children:(0,b.jsx)(e.StatisticsCard,{title:"Hoje",children:(0,b.jsxs)("div",{className:"w-full grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"w-full col-span-2 flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"w-full grid grid-cols-8 items-center font-bold text-xxs gap-2",children:[(0,b.jsx)("div",{className:"col-span-4"}),(0,b.jsx)("span",{className:"flex items-center justify-center text-center bg-slate-100 dark:bg-slate-700 p-2 rounded-t-md",children:"Aula"}),(0,b.jsx)("span",{className:"flex items-center justify-center text-center bg-slate-100 dark:bg-slate-700  p-2 rounded-t-md",children:"Conteúdo Inicial"}),(0,b.jsx)("span",{className:"flex items-center justify-center text-center bg-slate-100 dark:bg-slate-700  p-2 rounded-t-md",children:"Conteúdo Final"}),(0,b.jsx)("span",{className:"flex items-center justify-center text-center bg-slate-100 dark:bg-slate-700  p-2 rounded-t-md rounded-r-md",children:"Tempo Restante"})]}),C?C.map(a=>(0,b.jsxs)("div",{className:"w-full col-span-2 grid grid-cols-8 gap-2 items-center justify-center border-2 rounded-md ",style:{borderColor:a.disciplineColor},children:[(0,b.jsx)("h2",{className:"col-span-4 font-black text-sm flex items-center justify-center px-4 py-2 rounded-l-sm ",style:{backgroundColor:a.disciplineColor,color:(0,p.getTextColor)(a.disciplineColor)},children:a.disciplineName}),(0,b.jsx)("span",{className:"flex items-center justify-center text-sm font-bold",children:a.numberLesson}),(0,b.jsx)("span",{className:"flex items-center justify-center text-sm font-bold",children:a.numberStartContent}),(0,b.jsx)("span",{className:"flex items-center justify-center text-sm font-bold",children:a.numberEndContent}),(0,b.jsx)("span",{className:"flex items-center justify-center text-sm font-bold",children:(0,o.formatDuration)(a.remainingDurationSeconds)})]},a.key)):(0,b.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,b.jsx)(i,{className:"size-8"})})]}),(0,b.jsxs)("div",{className:"px-2 flex flex-col",children:[(0,b.jsx)("span",{className:"text-xs font-bold",children:"Horas Gastas"}),(0,b.jsxs)("div",{className:"flex h-full items-end justify-center",children:[(0,b.jsx)("h1",{className:"text-7xl font-black text-primary",children:C&&C.length>0&&(0,o.formatDuration)(C.reduce((a,b)=>a+b.totalDurationSeconds,0)-C.reduce((a,b)=>a+b.remainingDurationSeconds,0))}),(0,b.jsxs)("h3",{className:"text-lg font-black mb-2 text-slate-400 dark:text-slate-600 ",children:["/ ",g]})]})]})]})})}),(0,b.jsx)("div",{className:"w-full mt-4",children:(0,b.jsx)(e.StatisticsCard,{title:"Previsão",children:(0,b.jsxs)("div",{className:"w-full grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"px-2 flex flex-col",children:[(0,b.jsx)("span",{className:"text-xs font-bold",children:"Dias Restantes"}),(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("h1",{className:`${a<0?"text-2xl":"text-7xl"} font-black`,children:a<0?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,b.jsx)(r,{size:48,className:"text-green-500"}),"Concurso já realizado!"]}):Math.ceil((new Date(B.exameDate).getTime()-new Date().getTime())/864e5)})})]}),(0,b.jsxs)("div",{className:"px-2 flex flex-col",children:[(0,b.jsx)("span",{className:"text-xs font-bold",children:"Horas Necessárias p/dia"}),(0,b.jsx)("div",{className:"flex h-full py-8 items-center justify-center",children:(0,b.jsx)("h1",{className:`${a<0?"text-2xl":"text-7xl"} font-black`,children:D?a<0?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,b.jsx)(r,{size:48,className:"text-green-500"}),"Concurso já realizado!"]}):(0,o.formatDuration)(Math.ceil(D.reduce((a,b)=>a+b.totalDuration,0)/(3600*a))):(0,b.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,b.jsx)(i,{className:"size-8"})})})})]}),(0,b.jsxs)("div",{className:"px-2 flex flex-col",children:[(0,b.jsx)("span",{className:"text-xs font-bold",children:"Data da Prova"}),(0,b.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:(0,n.formatDate)(B.exameDate)})})]})]})})})]})}a.s(["default",()=>t],70540)}];

//# sourceMappingURL=src_906cf478._.js.map