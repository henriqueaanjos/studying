module.exports=[82123,a=>{"use strict";var b=a.i(19032);async function c(a){return(await b.api.get(`/study-session/${a}/session`)).data}a.s(["generateSession",()=>c])},42311,54447,a=>{"use strict";var b=a.i(85732);function c({title:a,children:c}){return(0,b.jsxs)("div",{className:"w-full bg-slate-100 dark:bg-slate-800 p-4 rounded-lg  gap-4 relative pt-8",children:[(0,b.jsx)("div",{className:"absolute top-0 px-2 rounded-b-md bg-primary",children:(0,b.jsx)("span",{className:"text-xxs uppercase font-black text-white whitespace-nowrap text-ellipsis",children:a})}),(0,b.jsx)("div",{className:"w-full flex  h-full justify-center items-center",children:c})]})}function d(a){let b=Math.floor(a/3600),c=Math.floor(a%3600/60);return`${b.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${(a%60).toString().padStart(2,"0")}`}a.s(["StatisticsCard",()=>c],42311),a.s(["formatDuration",()=>d],54447)},6015,a=>{"use strict";var b=a.i(85732),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,c.cn)("w-full caption-bottom text-sm",a),...d})})}function e({className:a,...d}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,c.cn)("[&_tr]:border-b",a),...d})}function f({className:a,...d}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,c.cn)("[&_tr:last-child]:border-0",a),...d})}function g({className:a,...d}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,c.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...d})}function h({className:a,...d}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,c.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function i({className:a,...d}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,c.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...d})}function j({className:a,...d}){return(0,b.jsx)("caption",{"data-slot":"table-caption",className:(0,c.cn)("text-muted-foreground mt-4 text-sm",a),...d})}a.s(["Table",()=>d,"TableBody",()=>f,"TableCaption",()=>j,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},92337,a=>{"use strict";var b=a.i(19032);async function c(a){return(await b.api.post("/register",a)).data}async function d(){return(await b.api.get("/register")).data}a.s(["createRegister",()=>c,"getAllRegister",()=>d])},83605,a=>{"use strict";var b=a.i(85732),c=a.i(363),d=a.i(42311),e=a.i(38715),f=a.i(17988),g=a.i(63375),h=a.i(59653),i=a.i(17449),j=a.i(58271),k=a.i(33612),l=a.i(44329),m=a.i(75655),n="Checkbox",[o,p]=(0,g.createContextScope)(n),[q,r]=o(n);function s(a){let{__scopeCheckbox:c,checked:d,children:f,defaultChecked:g,disabled:h,form:j,name:k,onCheckedChange:l,required:m,value:o="on",internal_do_not_use_render:p}=a,[r,s]=(0,i.useControllableState)({prop:d,defaultProp:g??!1,onChange:l,caller:n}),[t,u]=e.useState(null),[v,w]=e.useState(null),x=e.useRef(!1),y=!t||!!j||!!t.closest("form"),z={checked:r,disabled:h,setChecked:s,control:t,setControl:u,name:k,form:j,value:o,hasConsumerStoppedPropagationRef:x,required:m,defaultChecked:!A(g)&&g,isFormControl:y,bubbleInput:v,setBubbleInput:w};return(0,b.jsx)(q,{scope:c,...z,children:"function"==typeof p?p(z):f})}var t="CheckboxTrigger",u=e.forwardRef(({__scopeCheckbox:a,onKeyDown:c,onClick:d,...g},i)=>{let{control:j,value:k,disabled:l,checked:n,required:o,setControl:p,setChecked:q,hasConsumerStoppedPropagationRef:s,isFormControl:u,bubbleInput:v}=r(t,a),w=(0,f.useComposedRefs)(i,p),x=e.useRef(n);return e.useEffect(()=>{let a=j?.form;if(a){let b=()=>q(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[j,q]),(0,b.jsx)(m.Primitive.button,{type:"button",role:"checkbox","aria-checked":A(n)?"mixed":n,"aria-required":o,"data-state":B(n),"data-disabled":l?"":void 0,disabled:l,value:k,...g,ref:w,onKeyDown:(0,h.composeEventHandlers)(c,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,h.composeEventHandlers)(d,a=>{q(a=>!!A(a)||!a),v&&u&&(s.current=a.isPropagationStopped(),s.current||a.stopPropagation())})})});u.displayName=t;var v=e.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(s,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(z,{__scopeCheckbox:d})]})})});v.displayName=n;var w="CheckboxIndicator",x=e.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=r(w,d);return(0,b.jsx)(l.Presence,{present:e||A(g.checked)||!0===g.checked,children:(0,b.jsx)(m.Primitive.span,{"data-state":B(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});x.displayName=w;var y="CheckboxBubbleInput",z=e.forwardRef(({__scopeCheckbox:a,...c},d)=>{let{control:g,hasConsumerStoppedPropagationRef:h,checked:i,defaultChecked:l,required:n,disabled:o,name:p,value:q,form:s,bubbleInput:t,setBubbleInput:u}=r(y,a),v=(0,f.useComposedRefs)(d,u),w=(0,j.usePrevious)(i),x=(0,k.useSize)(g);e.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!h.current;if(w!==i&&a){let c=new Event("click",{bubbles:b});t.indeterminate=A(i),a.call(t,!A(i)&&i),t.dispatchEvent(c)}},[t,w,i,h]);let z=e.useRef(!A(i)&&i);return(0,b.jsx)(m.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??z.current,required:n,disabled:o,name:p,value:q,form:s,...c,tabIndex:-1,ref:v,style:{...c.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(a){return"indeterminate"===a}function B(a){return A(a)?"indeterminate":a?"checked":"unchecked"}z.displayName=y;var C=a.i(41579),D=a.i(68114);function E({className:a,...c}){return(0,b.jsx)(v,{"data-slot":"checkbox",className:(0,D.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(x,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:(0,b.jsx)(C.CheckIcon,{className:"size-3.5"})})})}var F=a.i(6015),G=a.i(85259),H=a.i(10502),I=a.i(7286),J=a.i(92337),K=a.i(82123),L=a.i(54447),M=a.i(20672),N=a.i(66953);let O=(0,N.default)("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),P=(0,N.default)("file-clock",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"37hlfg"}],["path",{d:"M8 14v2.2l1.6 1",key:"6m4bie"}],["circle",{cx:"8",cy:"16",r:"6",key:"10v15b"}]]);var Q=a.i(74377),R=a.i(89280),S=a.i(9759),T=a.i(96388),U=a.i(79170),V=a.i(56916);function W(){let[a,f]=(0,e.useState)(0),[g,h]=(0,e.useState)("00:00:00"),{contest:i}=(0,H.useContest)(),{data:j}=(0,S.useQuery)({queryKey:["TodaySession",i?.id],enabled:!!i,queryFn:async()=>await (0,K.generateSession)(i.id)}),{mutateAsync:k}=(0,R.useMutation)({mutationFn:async a=>{await (0,J.createRegister)({...a})},onMutate:async a=>{await I.queryClient.cancelQueries({queryKey:["TodaySession",i?.id]});let b=I.queryClient.getQueryData(["TodaySession",i?.id]),c=b?.map(b=>b.id===a.contentId?{...b,Register:b.Register.length>0?[]:[{id:"temp",contentId:a.contentId}]}:b)||[];I.queryClient.setQueryData(["TodaySession",i.id],c);let d=c.filter(a=>0===a.Register.length),e=d.length,g=d.reduce((a,b)=>a+b.durationSeconds,0);return f(e),h((0,L.formatDuration)(g)),{previousSession:b}},onError:(a,b,c)=>{c?.previousSession&&I.queryClient.setQueryData(["TodaySession"],c.previousSession),V.toast.error("Erro ao registrar conteúdo!")},onSettled:()=>{I.queryClient.invalidateQueries({queryKey:["TodaySession",i?.id]})},onSuccess:()=>{V.toast.success("Conteúdo atualizado!")}});return(0,e.useEffect)(()=>{if(j){let a=j.filter(a=>0===a.Register.length),b=a.length,c=a.reduce((a,b)=>a+b.durationSeconds,0);f(b),h((0,L.formatDuration)(c))}},[j]),(0,b.jsxs)("main",{className:"w-full min-h-screen p-8",children:[(0,b.jsx)(c.PrivateHeader,{pageTitle:"Tarefas de Hoje"}),(0,b.jsxs)("div",{className:"w-full flex flex-row gap-4 mt-4",children:[(0,b.jsx)(d.StatisticsCard,{title:"Conteúdos Restante p/Hoje",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:a})}),(0,b.jsx)(d.StatisticsCard,{title:"Tempo Restante p/Hoje",children:(0,b.jsx)("h1",{className:"text-7xl font-black",children:g})})]}),(0,b.jsx)("div",{className:"w-full mt-4",children:(0,b.jsx)(d.StatisticsCard,{title:"Hoje",children:(0,b.jsxs)(F.Table,{className:"w-full",children:[(0,b.jsx)(F.TableCaption,{children:"Por Hoje é só, arrebenta campeão!"}),(0,b.jsx)(F.TableHeader,{children:(0,b.jsxs)(F.TableRow,{className:"grid grid-cols-7",children:[(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Etapa de estudo"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Disciplina"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Aula"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Tipo de Conteúdo"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Nº do Conteúdo"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Duração"}),(0,b.jsx)(F.TableHead,{className:"flex justify-center",children:"Assistido"})]})}),(0,b.jsx)(F.TableBody,{children:j&&j.map(a=>(0,b.jsxs)(F.TableRow,{className:"grid grid-cols-7 items-center m-2 rounded-md",style:{backgroundColor:a.disciplineColor,color:(0,Q.getTextColor)(a.disciplineColor)},children:[(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:function(a){switch(a.toLowerCase()){case"estudo":return(0,b.jsxs)(G.Tooltip,{children:[(0,b.jsx)(G.TooltipTrigger,{children:(0,b.jsx)(O,{})}),(0,b.jsx)(G.TooltipContent,{children:a})]});case"revisão":return(0,b.jsxs)(G.Tooltip,{children:[(0,b.jsx)(G.TooltipTrigger,{children:(0,b.jsx)(P,{})}),(0,b.jsx)(G.TooltipContent,{children:a})]});case"prática":return(0,b.jsxs)(G.Tooltip,{children:[(0,b.jsx)(G.TooltipTrigger,{children:(0,b.jsx)(M.BookOpenCheck,{})}),(0,b.jsx)(G.TooltipContent,{children:a})]});default:return(0,b.jsx)(b.Fragment,{})}}(a.stageName)}),(0,b.jsx)(F.TableCell,{className:"flex justify-center font-bold",children:a.disciplineName}),(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:a.numberLesson}),(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:"video"===a.contentTypeName?(0,b.jsxs)(G.Tooltip,{children:[(0,b.jsx)(G.TooltipTrigger,{children:(0,b.jsx)(U.Video,{})}),(0,b.jsx)(G.TooltipContent,{children:"Video"})]}):(0,b.jsxs)(G.Tooltip,{children:[(0,b.jsx)(G.TooltipTrigger,{children:(0,b.jsx)(T.FileText,{})}),(0,b.jsx)(G.TooltipContent,{children:"PDF"})]})}),(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:a.numberContent}),(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:(0,L.formatDuration)(a.durationSeconds)}),(0,b.jsx)(F.TableCell,{className:"flex justify-center",children:(0,b.jsx)(E,{checked:a.Register.length>0,className:"data-[state=checked]:bg-green-500 dark:data-[state=checked]:bg-green-500 w-6 h-6 bg-slate-200 dark:bg-slate-700 transition-all duration-300 text-white dark:text-white ",onClick:()=>{k({contentId:a.id})}})})]},a.id))})]})})})]})}a.s(["default",()=>W],83605)}];

//# sourceMappingURL=src_0583f852._.js.map